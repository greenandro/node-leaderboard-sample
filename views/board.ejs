<!DOCTYPE html>
<html lang="en">
<head>
    <title>node-leaderboard sample.</title>
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css">
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>

    <script>
        function updatePage(page) {
            document.location = "?page=" + page;
        }

        function reloadPage() {
            document.location.reload();
        }

        jQuery(function($) {
            $('.reload').click(function (e) {
                e.preventDefault();

                reloadPage();
            });

            $('.paging').click(function (e) {
                e.preventDefault();

                const delta = +($(this).attr("paging"));
                updatePage(<%=page%> + delta);
            });
        });
    </script>
</head>

<body>
    <div class="container">
        <div class="row">
            <h2>node-leaderboard sample.</h2>

            <div class="row" style="text-align: right">
                <a class="reload" href="javascript:void(0);"> reload </a>
            </div>

            <div class="row">
                total registered: <%= total %><br>
                <% if (page > 1) { %>
                    <a class="paging" href="javascript:void(0);" paging="-1"> << prev </a>
                <% } else { %>
                    << prev
                <% } %>
                <%= page %> / <%= maxPage %>
                <% if (page < maxPage) { %>
                    <a class="paging"  href="javascript:void(0);" paging="1"> next >> </a>
                <% } else { %>
                    next >>
                <% } %>

                <div style="padding:12px 12px 0px 0px;">
                    <table class="table table-striped">
                        <thead>
                        <tr>
                            <th>rank</th>
                            <th>id</th>
                            <th>name</th>
                            <th>score</th>
                        </tr>
                        </thead>
                        <% list.forEach((data) => { %>
                        <tr>
                            <td><%=data.rank%></td>
                            <td><%=data.id%></td>
                            <td><%=data.name%></td>
                            <td><%=data.score%></td>
                        </tr>
                        <% }); %>
                    </table>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
